{"version":3,"sources":["../../js/DynamicTabSheet.jsx"],"names":["DynamicTabSheet","props","componentDidMount","bind","state","tabs","tabContent","getObjectTypes","db","PouchDB","query","err","res","console","error","tbs","content","rows","map","key","push","id","setState","React","Component"],"mappings":";;;;;;;;;;IAAMA,e;;;AACF,6BAAYC,KAAZ,EAAkB;AAAA;;AAAA,sIACRA,KADQ;;AAEd,cAAKC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,OAAzB;;AAEA;AACA,cAAKC,KAAL,GAAa;AACTC,kBAAK,EADI;AAETC,wBAAW;AAFF,SAAb;AALc;AASjB;;;;4CAEkB;AACf,iBAAKC,cAAL;AACH;;;iCAEO;AACJ,mBAAO;AAAA;AAAA,kBAAK,IAAG,MAAR;AACH;AAAA;AAAA,sBAAI,WAAU,cAAd,EAA6B,MAAK,SAAlC;AACK,yBAAKH,KAAL,CAAWC;AADhB,iBADG;AAKH;AAAA;AAAA,sBAAK,WAAU,aAAf;AACK,yBAAKD,KAAL,CAAWE;AADhB;AALG,aAAP;AASH;;AAED;;;;;;yCAGgB;AACZ,gBAAIE,KAAK,IAAIC,OAAJ,CAAY,SAAZ,CAAT;;AAEAD,eAAGE,KAAH,CAAS,iBAAT,EAA4B,UAASC,GAAT,EAAcC,GAAd,EAAkB;AAC1C,oBAAGD,GAAH,EAAO;AACHE,4BAAQC,KAAR,CAAcH,GAAd;AACH,iBAFD,MAGI;AACA,wBAAII,MAAM,EAAV;AACA,wBAAIC,UAAU,EAAd;AACAJ,wBAAIK,IAAJ,CAASC,GAAT,CAAa,UAASC,GAAT,EAAa;AACtBJ,8BAAM,KAAKX,KAAL,CAAWC,IAAjB;AACAU,4BAAIK,IAAJ,CAAS;AAAA;AAAA,8BAAI,KAAKD,IAAIA,GAAb,EAAkB,MAAK,cAAvB;AAAsC;AAAA;AAAA,kCAAG,MAAM,MAAIA,IAAIA,GAAjB,EAAsB,iBAAc,UAApC,EAA+C,MAAK,KAApD,EAA0D,eAAY,KAAtE;AAA6EA,oCAAIA;AAAjF;AAAtC,yBAAT;;AAEAH,kCAAU,KAAKZ,KAAL,CAAWE,UAArB;AACAU,gCAAQI,IAAR,CAAa;AAAA;AAAA,8BAAK,KAAKD,IAAIA,GAAd,EAAmB,MAAK,UAAxB,EAAmC,WAAU,UAA7C,EAAwD,IAAIA,IAAIA,GAAhE,EAAqE,cAAYA,IAAIE,EAArF;AAAyF,gDAAC,aAAD,IAAe,IAAIF,IAAIE,EAAvB;AAAzF,yBAAb;AAEH,qBAPY,CAOXlB,IAPW,CAON,IAPM,CAAb;;AASAY,wBAAIK,IAAJ,CAAS;AAAA;AAAA,0BAAI,KAAI,QAAR,EAAiB,MAAK,cAAtB;AAAqC;AAAA;AAAA,8BAAG,MAAM,SAAT,EAAoB,iBAAc,UAAlC,EAA6C,MAAK,KAAlD,EAAwD,eAAY,KAApE;AAAA;AAAA;AAArC,qBAAT;AACAJ,4BAAQI,IAAR,CAAa;AAAA;AAAA,0BAAK,KAAK,QAAV,EAAoB,MAAK,UAAzB,EAAoC,WAAU,UAA9C,EAAyD,IAAG,QAA5D;AAAqE,4CAAC,YAAD,OAArE;AAAoF,4CAAC,aAAD;AAApF,qBAAb;AACA,yBAAKE,QAAL,CAAc;AACVjB,8BAAKU,GADK;AAEVT,oCAAYU;AAFF,qBAAd;AAIH;AACJ,aAvB2B,CAuB1Bb,IAvB0B,CAuBrB,IAvBqB,CAA5B;AAwBH;;;;EA1DyBoB,MAAMC,S","file":"DynamicTabSheet.js","sourcesContent":["class DynamicTabSheet extends React.Component{\n    constructor(props){\n        super(props);\n        this.componentDidMount = this.componentDidMount.bind(this);\n\n        //tabs the HTML for the tabs, and tabContent the HTML for the tab bodies\n        this.state = {\n            tabs:[],\n            tabContent:[]\n        }\n    }\n\n    componentDidMount(){\n        this.getObjectTypes();\n    }\n\n    render(){\n        return <div id=\"tabs\">\n            <ul className=\"nav nav-tabs\" role=\"tablist\">\n                {this.state.tabs}\n            </ul>\n\n            <div className=\"tab-content\">\n                {this.state.tabContent}\n            </div>\n        </div>\n    }\n\n    /**\n     * Get the objects types from the DB, assign the names and the IDs to some elements by updating the state.\n     */\n    getObjectTypes(){\n        let db = new PouchDB(\"schemas\")\n\n        db.query(\"schemas/by_name\", function(err, res){\n            if(err){\n                console.error(err);\n            }\n            else{\n                let tbs = [];\n                let content = [];\n                res.rows.map(function(key){\n                    tbs = this.state.tabs;\n                    tbs.push(<li key={key.key} role=\"presentation\"><a href={\"#\"+key.key} aria-controls=\"diagrams\" role=\"tab\" data-toggle=\"tab\">{key.key}</a></li>);\n\n                    content = this.state.tabContent;\n                    content.push(<div key={key.key} role=\"tabpanel\" className=\"tab-pane\" id={key.key} data-objid={key.id}><GenericLister id={key.id}/></div>);\n\n                }.bind(this));\n\n                tbs.push(<li key=\"schema\" role=\"presentation\"><a href={\"#schema\"} aria-controls=\"diagrams\" role=\"tab\" data-toggle=\"tab\">Objects</a></li>);\n                content.push(<div key={\"schema\"} role=\"tabpanel\" className=\"tab-pane\" id=\"schema\"><SchemaLister/><NewSchemaForm/></div>);\n                this.setState({\n                    tabs:tbs,\n                    tabContent: content\n                });\n            }\n        }.bind(this))\n    }\n}"]}