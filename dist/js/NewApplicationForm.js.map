{"version":3,"sources":["../../js/NewApplicationForm.jsx"],"names":["ApplicationForm","props","state","appName","appVendor","handleChange","bind","handleSubmit","event","target","id","value","setState","appDB","PouchDB","app","console","log","JSON","stringify","post","err","doc","preventDefault","next","React","Component"],"mappings":";;;;;;;;;;;;AAAA;;;;IAIMA,e;;;AACF,6BAAYC,KAAZ,EAAkB;AAAA;;AAAA,sIACRA,KADQ;;AAGd,cAAKC,KAAL,GAAa;AACTC,qBAAQ,EADC;AAETC,uBAAU;AAFD,SAAb;;AAKA,cAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AACA,cAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,OAApB;AATc;AAUjB;;;;iCAEO;AACJ,mBAAQ;AAAA;AAAA,kBAAM,QAAO,GAAb,EAAiB,UAAU,KAAKC,YAAhC;AACI;AAAA;AAAA,sBAAK,WAAU,YAAf;AACI;AAAA;AAAA,0BAAO,SAAQ,SAAf;AAAA;AAAA,qBADJ;AAEI,mDAAO,MAAK,MAAZ,EAAmB,WAAU,cAA7B,EAA4C,IAAG,SAA/C,EAAyD,OAAO,KAAKL,KAAL,CAAWC,OAA3E,EAAoF,aAAY,kBAAhG,EAAmH,UAAU,KAAKE,YAAlI;AAFJ,iBADJ;AAKI;AAAA;AAAA,sBAAK,WAAU,YAAf;AACI;AAAA;AAAA,0BAAO,SAAQ,WAAf;AAAA;AAAA,qBADJ;AAEI,mDAAO,MAAK,MAAZ,EAAmB,WAAU,cAA7B,EAA4C,IAAG,WAA/C,EAA2D,OAAO,KAAKH,KAAL,CAAWE,SAA7E,EAAwF,aAAY,aAApG,EAAkH,UAAU,KAAKC,YAAjI;AAFJ,iBALJ;AASI;AAAA;AAAA,sBAAQ,MAAK,QAAb,EAAsB,WAAU,iBAAhC,EAAkD,gBAAa,OAA/D;AAAA;AAAA,iBATJ;AAUI;AAAA;AAAA,sBAAQ,MAAK,QAAb,EAAsB,WAAU,iBAAhC;AAAA;AAAA;AAVJ,aAAR;AAYH;;;qCAEYG,K,EAAO;AAChB,gBAAIN,4BAAWM,MAAMC,MAAN,CAAaC,EAAxB,EAA6BF,MAAMC,MAAN,CAAaE,KAA1C,CAAJ;;AAEA,iBAAKC,QAAL,CAAcV,KAAd;AACH;;;qCAEYM,K,EAAM;AACf,gBAAIK,QAAQ,IAAIC,OAAJ,CAAY,cAAZ,CAAZ;AACA,gBAAMC,MAAM;AACR,2BAAW,KAAKb,KAAL,CAAWC,OADd;AAER,6BAAa,KAAKD,KAAL,CAAWE;AAFhB,aAAZ;;AAKAY,oBAAQC,GAAR,CAAY,YAAUC,KAAKC,SAAL,CAAeJ,GAAf,CAAtB;;AAEAF,kBAAMO,IAAN,CAAWL,GAAX,EAAgB,UAASM,GAAT,EAAcC,GAAd,EAAkB;AAC9B,oBAAGD,GAAH,EACIL,QAAQC,GAAR,CAAYI,GAAZ;AACP,aAHD;;AAKA,iBAAKT,QAAL,CAAc;AACVR,2BAAU,EADA;AAEVD,yBAAS;AAFC,aAAd;;AAKAK,kBAAMe,cAAN;;AAEA;AACA;AACA,iBAAKtB,KAAL,CAAWuB,IAAX,CAAgBT,GAAhB;;AAEA;AACH;;;;EA5DyBU,MAAMC,S","file":"NewApplicationForm.js","sourcesContent":["/**\r\n * The clever bit:\r\n * @ToDo Calling classes need to pass a function that is the next thing to be done...\r\n */\r\nclass ApplicationForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            appName:\"\",\r\n            appVendor:\"\",\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    render(){\r\n        return  <form action=\"#\" onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"appName\">Application Name</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"appName\" value={this.state.appName} placeholder=\"Application Name\" onChange={this.handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"appVendor\">Vendor</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"appVendor\" value={this.state.appVendor} placeholder=\"Vendor Name\" onChange={this.handleChange}/>\r\n                    </div>\r\n                    <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Save changes</button>\r\n            </form>\r\n    }\r\n\r\n    handleChange(event) {\r\n        var state = { [event.target.id]: event.target.value};\r\n\r\n        this.setState(state);\r\n    }\r\n\r\n    handleSubmit(event){\r\n        let appDB = new PouchDB(\"applications\");\r\n        const app = {\r\n            \"appName\": this.state.appName,\r\n            \"appVendor\": this.state.appVendor\r\n        };\r\n\r\n        console.log(\"Saving \"+JSON.stringify(app));\r\n\r\n        appDB.post(app, function(err, doc){\r\n            if(err)\r\n                console.log(err);\r\n        });\r\n\r\n        this.setState({\r\n            appVendor:\"\",\r\n            appName: \"\"\r\n        });\r\n\r\n        event.preventDefault();\r\n\r\n        //Next is the function passed in from the calling application! Love JS!\r\n        //@ToDo Need to pass back the ID as well\r\n        this.props.next(app);\r\n\r\n        //@ToDo need to close PouchDB connection\r\n    }\r\n}"]}