{"version":3,"sources":["../../../js/forms/NewApplicationForm.jsx"],"names":["ApplicationForm","props","state","appName","appVendor","handleChange","bind","handleSubmit","event","target","id","value","setState","app","console","log","JSON","stringify","appDB","post","err","doc","rev","next","preventDefault","React","Component"],"mappings":";;;;;;;;;;;;AAAA;;;;IAIMA,e;;;AACF,6BAAYC,KAAZ,EAAkB;AAAA;;AAAA,sIACRA,KADQ;;AAGd,cAAKC,KAAL,GAAa;AACTC,qBAAQ,EADC;AAETC,uBAAU;AAFD,SAAb;;AAKA,cAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AACA,cAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,OAApB;AATc;AAUjB;;;;iCAEO;AACJ,mBAAQ;AAAA;AAAA,kBAAM,QAAO,GAAb,EAAiB,UAAU,KAAKC,YAAhC;AACI;AAAA;AAAA,sBAAK,WAAU,YAAf;AACI;AAAA;AAAA,0BAAO,SAAQ,SAAf;AAAA;AAAA,qBADJ;AAEI,mDAAO,MAAK,MAAZ,EAAmB,WAAU,cAA7B,EAA4C,IAAG,SAA/C,EAAyD,OAAO,KAAKL,KAAL,CAAWC,OAA3E,EAAoF,aAAY,kBAAhG,EAAmH,UAAU,KAAKE,YAAlI;AAFJ,iBADJ;AAKI;AAAA;AAAA,sBAAK,WAAU,YAAf;AACI;AAAA;AAAA,0BAAO,SAAQ,WAAf;AAAA;AAAA,qBADJ;AAEI,mDAAO,MAAK,MAAZ,EAAmB,WAAU,cAA7B,EAA4C,IAAG,WAA/C,EAA2D,OAAO,KAAKH,KAAL,CAAWE,SAA7E,EAAwF,aAAY,aAApG,EAAkH,UAAU,KAAKC,YAAjI;AAFJ,iBALJ;AASI;AAAA;AAAA,sBAAQ,MAAK,QAAb,EAAsB,WAAU,iBAAhC;AAAA;AAAA;AATJ,aAAR;AAWH;;;qCAEYG,K,EAAO;AAChB,gBAAIN,4BAAWM,MAAMC,MAAN,CAAaC,EAAxB,EAA6BF,MAAMC,MAAN,CAAaE,KAA1C,CAAJ;;AAEA,iBAAKC,QAAL,CAAcV,KAAd;AACH;;;qCAGYM,K,EAAM;AACf,gBAAIK,MAAM;AACN,2BAAW,KAAKX,KAAL,CAAWC,OADhB;AAEN,6BAAa,KAAKD,KAAL,CAAWE;AAFlB,aAAV;;AAKAU,oBAAQC,GAAR,CAAY,YAAUC,KAAKC,SAAL,CAAeJ,GAAf,CAAtB;;AAEAK,kBAAMC,IAAN,CAAWN,GAAX,EAAgB,UAASO,GAAT,EAAcC,GAAd,EAAkB;AAC9B,oBAAGD,GAAH,EACIN,QAAQC,GAAR,CAAYK,GAAZ,EADJ,KAEK;AACDN,4BAAQC,GAAR,CAAYC,KAAKC,SAAL,CAAeI,GAAf,CAAZ;;AAEAR,wBAAIH,EAAJ,GAASW,IAAIX,EAAb;AACAG,wBAAIS,GAAJ,GAAUD,IAAIC,GAAd;;AAEA;AACA;AACH;;AAED,qBAAKrB,KAAL,CAAWsB,IAAX,CAAgBV,GAAhB;AAEH,aAfe,CAedP,IAfc,CAeT,IAfS,CAAhB;;AAiBA,iBAAKM,QAAL,CAAc;AACVR,2BAAU,EADA;AAEVD,yBAAS;AAFC,aAAd;;AAKAK,kBAAMgB,cAAN;;AAEA;AACH;;;;EAnEyBC,MAAMC,S","file":"NewApplicationForm.js","sourcesContent":["/**\r\n * The clever bit:\r\n * @ToDo Calling classes need to pass a function that is the next thing to be done...\r\n */\r\nclass ApplicationForm extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            appName:\"\",\r\n            appVendor:\"\",\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    render(){\r\n        return  <form action=\"#\" onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"appName\">Application Name</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"appName\" value={this.state.appName} placeholder=\"Application Name\" onChange={this.handleChange}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"appVendor\">Vendor</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"appVendor\" value={this.state.appVendor} placeholder=\"Vendor Name\" onChange={this.handleChange}/>\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Save changes</button>\r\n            </form>\r\n    }\r\n\r\n    handleChange(event) {\r\n        var state = { [event.target.id]: event.target.value};\r\n\r\n        this.setState(state);\r\n    }\r\n\r\n\r\n    handleSubmit(event){\r\n        let app = {\r\n            \"appName\": this.state.appName,\r\n            \"appVendor\": this.state.appVendor\r\n        };\r\n\r\n        console.log(\"Saving \"+JSON.stringify(app));\r\n\r\n        appDB.post(app, function(err, doc){\r\n            if(err)\r\n                console.log(err);\r\n            else {\r\n                console.log(JSON.stringify(doc));\r\n\r\n                app.id = doc.id;\r\n                app.rev = doc.rev;\r\n\r\n                //Next is the function passed in from the calling application! Love JS!\r\n                //@ToDo Need to pass back the ID as well\r\n            }\r\n\r\n            this.props.next(app);\r\n\r\n        }.bind(this));\r\n\r\n        this.setState({\r\n            appVendor:\"\",\r\n            appName: \"\"\r\n        });\r\n\r\n        event.preventDefault();\r\n\r\n        //@ToDo need to close PouchDB connection\r\n    }\r\n}"]}